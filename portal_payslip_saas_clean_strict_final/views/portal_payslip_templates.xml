<odoo>

    <template id="portal_no_employee">
        <t t-call="website.layout">
            <div class="container mt-4">
                <div class="alert alert-danger">
                    No employee record is linked to your user account.
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_payslips_page" name="My Payslips">
        <t t-call="website.layout">
            <div class="container mt-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h2>My Payslips</h2>
                    <a class="btn btn-outline-secondary" href="/my">Back</a>
                </div>

                <form method="get" class="row mb-4">
                    <div class="col-md-4">
                        <label>Month</label>
                        <select name="month" class="form-select">
                            <option value="">All</option>
                            <t t-foreach="range(1,13)" t-as="m">
                                <option t-att-value="m" t-att-selected="m == selected_month"><t t-esc="m"/></option>
                            </t>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label>Year</label>
                        <select name="year" class="form-select">
                            <option value="">All</option>
                            <t t-foreach="range(2020,2032)" t-as="y">
                                <option t-att-value="y" t-att-selected="y == selected_year"><t t-esc="y"/></option>
                            </t>
                        </select>
                    </div>
                    <div class="col-md-4 d-flex align-items-end">
                        <button class="btn btn-primary w-100">Apply</button>
                    </div>
                </form>

                <t t-if="not payslips">
                    <div class="alert alert-info">No payslips found for the selected period.</div>
                </t>

                <div class="row">
                    <t t-foreach="payslips" t-as="slip">
                        <div class="col-md-4 mb-3">
                            <div class="card p-3 shadow-sm">
                                <h4><t t-esc="slip.number or 'Payslip'"/></h4>
                                <p><t t-esc="slip.date_from"/> â†’ <t t-esc="slip.date_to"/></p>
                                <span class="badge bg-info"><t t-esc="slip.state"/></span>

                                <a class="btn btn-primary btn-sm mt-3 w-100"
                                   t-att-href="'/my/payslips/%s/download' % slip.id">
                                   Download PDF
                                </a>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

</odoo>
